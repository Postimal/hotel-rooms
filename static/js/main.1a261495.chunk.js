(this["webpackJsonphotel-room-react"]=this["webpackJsonphotel-room-react"]||[]).push([[0],{102:function(e,t,a){e.exports=a.p+"static/media/loading-arrow.e9ea7394.gif"},109:function(e,t,a){e.exports=a.p+"static/media/logo.c7c76c7a.svg"},114:function(e,t,a){e.exports=a(213)},119:function(e,t,a){},21:function(e,t,a){e.exports=a.p+"static/media/room-1.e928a5c4.jpeg"},213:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(85),l=a.n(c),o=a(4);a(119);function i(e){var t=e.children,a=e.hero;return r.a.createElement("header",{className:a},t)}function m(e){var t=e.children,a=e.title,n=e.subtitle;return r.a.createElement("div",{className:"banner"},r.a.createElement("h1",null,a),r.a.createElement("div",null),r.a.createElement("p",null,n),t)}i.defaultProps={hero:"defaultHero"};var s=a(12),u=a(13),p=a(15),f=a(14),d=a(16),E=a(23),h=function(e){var t=e.title;return r.a.createElement("div",{className:"section-title"},r.a.createElement("h4",null,t),r.a.createElement("span",null))},g=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).state={services:[{icon:r.a.createElement(E.c,null),title:"free cocktails",info:"lorem impsum kla mea lke, indo doro facial"},{icon:r.a.createElement(E.d,null),title:"endless hiking",info:"lorem impsum kla mea lke, indo doro facial"},{icon:r.a.createElement(E.e,null),title:"free shuttle",info:"lorem impsum kla mea lke, indo doro facial"},{icon:r.a.createElement(E.b,null),title:"strongest beer",info:"lorem impsum kla mea lke, indo doro facial"}]},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"services"},r.a.createElement(h,{title:"services"}),r.a.createElement("div",{className:"services-center"},this.state.services.map((function(e,t){return r.a.createElement("article",{key:t,className:"service"},r.a.createElement("span",null,e.icon),r.a.createElement("h6",null,e.title),r.a.createElement("p",null,e.info))}))))}}]),t}(n.Component),b=a(50),v=a(34),y=a(51),k=a.n(y),x=a(19),j=a(86),N=a.n(j),O=a(5),C=a.n(O),z=a(6),w=a.n(z),R=a(7),S=a.n(R),F=a(21),P=a.n(F),T=a(87),D=a.n(T),H=a(88),B=a.n(H),M=a(89),$=a.n(M),A=a(90),I=a.n(A),Q=a(91),W=a.n(Q),G=a(92),J=a.n(G),q=a(93),K=a.n(q),U=a(94),Y=a.n(U),_=a(95),L=a.n(_),V=a(96),X=a.n(V),Z=a(97),ee=a.n(Z),te=(P.a,C.a,w.a,S.a,D.a,C.a,w.a,S.a,B.a,C.a,w.a,S.a,$.a,C.a,w.a,S.a,I.a,C.a,w.a,S.a,W.a,C.a,w.a,S.a,J.a,C.a,w.a,S.a,K.a,C.a,w.a,S.a,Y.a,C.a,w.a,S.a,L.a,C.a,w.a,S.a,X.a,C.a,w.a,S.a,ee.a,C.a,w.a,S.a,N.a,C.a,w.a,S.a,a(110)),ae=Object(te.a)({space:"2oa9t3dx44vh",accessToken:"KWcDkuwFjBusIR2r9Go-SUsno9QYr1HHmyFPn36qQRo"}),ne=r.a.createContext(),re=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={rooms:[],sortedRooms:[],featuredRooms:[],loading:!0,type:"all",capacity:1,price:0,minPrice:0,maxPrice:0,minSize:0,maxSize:0,breakfast:!1,pets:!1},a.getData=function(){var e,t,n,r,c;return k.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,k.a.awrap(ae.getEntries({content_type:"beachResortRoom",order:"sys.createdAt"}));case 3:e=l.sent,console.log(e),t=a.formatData(e.items),n=t.filter((function(e){return e.featured})),r=Math.max.apply(Math,Object(x.a)(t.map((function(e){return e.price})))),c=Math.max.apply(Math,Object(x.a)(t.map((function(e){return e.size})))),a.setState({rooms:t,featuredRooms:n,sortedRooms:t,loading:!1,price:r,maxPrice:r,maxSize:c}),l.next=15;break;case 12:l.prev=12,l.t0=l.catch(0),console.log(l.t0);case 15:case"end":return l.stop()}}),null,null,[[0,12]])},a.getRoom=function(e){return Object(x.a)(a.state.rooms).find((function(t){return t.slug===e}))},a.handleChange=function(e){var t=e.target;"checkbox"===e.type?t.checked:t.value;a.setState(Object(v.a)({},e.target.name,"checkbox"===t.type?e.target.checked:e.target.value),a.filterRooms)},a.filterRooms=function(){var e=a.state,t=e.rooms,n=e.type,r=e.capacity,c=e.price,l=e.minSize,o=e.maxSize,i=e.breakfast,m=e.pets;console.log("filterin at the moment");var s=Object(x.a)(t);r=parseInt(r),c=parseInt(c),"all"!==n&&(s=s.filter((function(e){return e.type===n}))),1!==r&&(s=s.filter((function(e){return e.capacity>=r}))),s=(s=s.filter((function(e){return e.price<=c}))).filter((function(e){return e.size>=l&&e.size<=o})),i&&(s=s.filter((function(e){return e.breakfast}))),m&&(s=s.filter((function(e){return e.pets}))),a.setState({sortedRooms:s})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"formatData",value:function(e){return e.map((function(e){var t=e.sys.id,a=e.fields.images.map((function(e){return e.fields.file.url}));return Object(b.a)({},e.fields,{images:a,id:t})}))}},{key:"render",value:function(){return r.a.createElement(ne.Provider,{value:Object(b.a)({},this.state,{getRoom:this.getRoom,handleChange:this.handleChange})},this.props.children)}}]),t}(n.Component),ce=ne.Consumer,le=a(102),oe=a.n(le);function ie(){return r.a.createElement("div",{className:"loading"},r.a.createElement("h4",null,"rooms data loading..."),r.a.createElement("img",{src:oe.a,alt:"loading"}))}function me(e){var t=e.room,a=t.name,n=t.slug,c=t.images,l=t.price;return r.a.createElement("article",{className:"room"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:c[0]||P.a,alt:"single room"}),r.a.createElement("div",{className:"price-top"},r.a.createElement("h6",null,"$",l),r.a.createElement("p",null,"per night")),r.a.createElement(o.b,{to:"/rooms/".concat(n),className:"btn-primary room-link"},"Features")),r.a.createElement("p",{className:"room-info"},a))}var se=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.context,t=e.loading,a=e.featuredRooms.map((function(e){return r.a.createElement(me,{key:e.id,room:e})}));return r.a.createElement("section",{className:"featured-rooms"},r.a.createElement(h,{title:"featured rooms"}),r.a.createElement("div",{className:"featured-rooms-center"},t?r.a.createElement(ie,null):a))}}]),t}(n.Component);se.contextType=ne;var ue=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i,null,r.a.createElement(m,{title:"luxurious rooms",subtitle:"deluxe rooms starting at $299"},r.a.createElement(o.b,{to:"/rooms",className:"btn-primary"},"our rooms"))),r.a.createElement(g,null),r.a.createElement(se,null))},pe=function(e,t){return Object(x.a)(new Set(e.map((function(e){return e[t]}))))};function fe(e){var t=e.rooms,a=Object(n.useContext)(ne),c=a.handleChange,l=a.type,o=a.capacity,i=a.price,m=a.minPrice,s=a.maxPrice,u=a.minSize,p=a.maxSize,f=a.breakfast,d=a.pets,E=pe(t,"type");E=(E=["all"].concat(Object(x.a)(E))).map((function(e){return r.a.createElement("option",{value:e,key:e},e)}));var g=pe(t,"capacity");return g=g.map((function(e){return r.a.createElement("option",{value:e,key:e},e)})),r.a.createElement("section",{className:"filter-container"},r.a.createElement(h,{title:"search rooms"}),r.a.createElement("form",{className:"filter-form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"type"},"room type"),r.a.createElement("select",{name:"type",id:"type",value:l,className:"form-control",onChange:c},E)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"capacity"},"Guests"),r.a.createElement("select",{name:"capacity",id:"capacity",value:o,className:"form-control",onChange:c},g)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"price"},"room price $",i),r.a.createElement("input",{type:"range",name:"price",min:m,max:s,id:"price",value:i,onChange:c,className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"size"},"room size"),r.a.createElement("div",{className:"size-inputs"},r.a.createElement("input",{type:"number",name:"minSize",id:"size",value:u,onChange:c,className:"size-input"}),r.a.createElement("input",{type:"number",name:"maxSize",id:"size",value:p,onChange:c,className:"size-input"}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"single-extra"},r.a.createElement("input",{type:"checkbox",name:"breakfast",id:"breakfast",checked:f,onChange:c}),r.a.createElement("label",{htmlFor:"breakfast"},"breakfast")),r.a.createElement("div",{className:"single-extra"},r.a.createElement("input",{type:"checkbox",name:"pets",id:"pets",checked:d,onChange:c}),r.a.createElement("label",{htmlFor:"pets"},"pets")))))}function de(e){var t=e.rooms;return 0===t.length?r.a.createElement("div",{className:"empty-search"},r.a.createElement("h3",null,"unfortunately no rooms matched your search parameters")):r.a.createElement("section",{className:"roomslist"},r.a.createElement("div",{className:"roomslist-center"},t.map((function(e){return r.a.createElement(me,{key:e.id,room:e})}))))}function Ee(){return r.a.createElement(ce,null,(function(e){var t=e.loading,a=e.sortedRooms,n=e.rooms;return t?r.a.createElement(ie,null):r.a.createElement("div",null,r.a.createElement(fe,{rooms:n}),r.a.createElement(de,{rooms:a}))}))}var he=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i,{hero:"roomsHero"},r.a.createElement(m,{title:"our rooms"},r.a.createElement(o.b,{to:"/",className:"btn-primary"},"back home"))),r.a.createElement(Ee,null))},ge=a(111),be=a(105);function ve(){var e=Object(be.a)(["\n  min-height: 60vh;\n  background: url(",") center/cover no-repeat;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return ve=function(){return e},e}var ye=a(106).a.header(ve(),(function(e){return e.img})),ke=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).state={slug:a.props.match.params.slug,defaultBcg:P.a},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=(0,this.context.getRoom)(this.state.slug);if(!e)return r.a.createElement("div",{className:"error"},r.a.createElement("h3",null,"no such room could be found"));var t=e.name,a=e.description,n=e.capacity,c=e.size,l=e.price,i=e.extras,s=e.breakfast,u=e.pets,p=e.images,f=Object(ge.a)(p),d=f[0];f.slice(1);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ye,{img:d||this.state.defaultBcg},r.a.createElement(m,{title:"".concat(t," room")},r.a.createElement(o.b,{to:"/rooms",className:"btn-primary"},"back to rooms"))),r.a.createElement("section",{className:"single-room"},r.a.createElement("div",{className:"single-room-images"},p.map((function(e,a){return r.a.createElement("img",{key:a,src:e,alt:t})}))),r.a.createElement("div",{className:"single-room-info"},r.a.createElement("article",{className:"desc"},r.a.createElement("h3",null,"details"),r.a.createElement("p",null,a)),r.a.createElement("article",{className:"info"},r.a.createElement("h3",null,"info"),r.a.createElement("h6",null,"price: $",l),r.a.createElement("h6",null,"size: ",c," SQFT"),console.log(c),r.a.createElement("h6",null,"max capacity: ",n," ",n>1?"people":"person"),r.a.createElement("h6",null,u?"pets allowed":"no pets allowed"),r.a.createElement("h6",null,s?"include breakfast":null)))),r.a.createElement("section",{className:"room-extras"},r.a.createElement("h6",null,"extras"),r.a.createElement("ul",{className:"extras"},i.map((function(e,t){return r.a.createElement("li",{key:t},"- ",e)})))))}}]),t}(n.Component);ke.contextType=ne;var xe=function(){return r.a.createElement(i,null,r.a.createElement(m,{title:"404",subtitle:"page not found"},r.a.createElement(o.b,{to:"/",className:"btn-primary"},"return home")))},je=a(18),Ne=a(109),Oe=a.n(Ne),Ce=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},a.handleToggle=function(){a.setState({isOpen:!a.state.isOpen})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"nav-center"},r.a.createElement("div",{className:"nav-header"},r.a.createElement(o.b,{to:"/"},r.a.createElement("img",{src:Oe.a,alt:"Hotel Room"})),r.a.createElement("button",{type:"button",className:"nav-btn",onClick:this.handleToggle},r.a.createElement(E.a,{className:"nav-icon"}))),r.a.createElement("ul",{className:this.state.isOpen?"nav-links show-nav":"nav-links"},r.a.createElement("li",null,r.a.createElement(o.b,{onClick:this.handleToggle,to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(o.b,{onClick:this.handleToggle,to:"/rooms"},"Rooms")))))}}]),t}(n.Component);var ze=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce,null),r.a.createElement(je.c,null,r.a.createElement(je.a,{exact:!0,path:"/hotel-rooms",component:ue}),r.a.createElement(je.a,{exact:!0,path:"/rooms/",component:he}),r.a.createElement(je.a,{exact:!0,path:"/rooms/:slug",component:ke}),r.a.createElement(je.a,{component:xe})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(re,null,r.a.createElement(o.a,null,r.a.createElement(ze,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},5:function(e,t,a){e.exports=a.p+"static/media/details-2.50c23e62.jpeg"},52:function(e,t){},6:function(e,t,a){e.exports=a.p+"static/media/details-3.7345b9f6.jpeg"},7:function(e,t,a){e.exports=a.p+"static/media/details-4.7569a316.jpeg"},86:function(e,t,a){e.exports=a.p+"static/media/details-1.33ab9f1e.jpeg"},87:function(e,t,a){e.exports=a.p+"static/media/room-2.052c7681.jpeg"},88:function(e,t,a){e.exports=a.p+"static/media/room-3.9a1103b5.jpeg"},89:function(e,t,a){e.exports=a.p+"static/media/room-4.1e407d88.jpeg"},90:function(e,t,a){e.exports=a.p+"static/media/room-5.a5c06e0b.jpeg"},91:function(e,t,a){e.exports=a.p+"static/media/room-6.b9a34e96.jpeg"},92:function(e,t,a){e.exports=a.p+"static/media/room-7.e251c8d5.jpeg"},93:function(e,t,a){e.exports=a.p+"static/media/room-8.ebb7fca5.jpeg"},94:function(e,t,a){e.exports=a.p+"static/media/room-9.7b17c49f.jpeg"},95:function(e,t,a){e.exports=a.p+"static/media/room-10.3b5c0871.jpeg"},96:function(e,t,a){e.exports=a.p+"static/media/room-11.f08fee37.jpeg"},97:function(e,t,a){e.exports=a.p+"static/media/room-12.0e293352.jpeg"}},[[114,1,2]]]);
//# sourceMappingURL=main.1a261495.chunk.js.map